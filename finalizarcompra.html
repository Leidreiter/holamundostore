<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Hola Mundo Store, el paraíso del merchandising para programadores: cuadros, stickers, mousepads y remeras que expresan tu pasión por el código.">
    <title>Hola Mundo Store - Todo para developers</title>
    <link rel="icon" href="/img/favicon.svg" type="image/svg+xml"> <!-- Formato SVG -->

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link rel="preload"
        href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=New+Amsterdam&display=swap"
        as="font" crossorigin="crossorigin">
    <link rel="preload" href="/css/normalize.css" as="style">
    <link rel="preload" href="/css/styles.css" as="style">

    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=New+Amsterdam&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/styles.css">

    <link rel="prefetch" href="gracias.html" as="document">

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://holamundo.store/">
        <meta property="og:title" content="Hola Mundo Store - tienda online">
        <meta property="og:description"
            content="La única tienda online de merchandising para developers (y amantes del código) de Argentina con envío gratuito a todo el país.">
        <meta property="og:image" content="https://holamundo.store/img/preview.jpg">
        <meta property="og:image:alt" content="Imagen preview de la web Hola Mundo Store 2026">
        <meta property="og:site_name" content="Hola Mundo Store">
        <meta property="og:locale" content="es_ES">
    
        <!-- Twitter Card -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:url" content="https://holamundo.store/">
        <meta name="twitter:title" content="Hola Mundo Store - tienda online">
        <meta name="twitter:description"
            content="La única tienda online de merchandising para developers (y amantes del código) de Argentina con envío gratuito a todo el país.">
        <meta name="twitter:image" content="https://holamundo.store/img/preview.jpg">
        <meta name="twitter:image:alt" content="Imagen preview de la web Hola Mundo Store 2026">
</head>

<body>
    <header></header>

    <main class="contenedor contenido">
        <div class="mensaje_fc">
            <h1 class="titulo_fc bold">Finalizar compra</h1>
            <img loading="lazy" src="/img/mercadopago.svg" alt="logo mercadopago" class="logo_fc">
        </div>
        <p class="datos_fc">Hola, te enviaré por WhatsApp mis datos para realizar el
            pago (titular de la cuenta y alias), completa el formulario a continuación para realizar tu pedido. ¿No
            tienes WhatsApp? No hay problema,
            escribeme por Instagram <a href="https://www.instagram.com/soymarcusdev/" target="_blank" class="link">Click
                Aquí</a></p>
    </main>

    <!--Banner friends-->
    <div class="contenedor banner contenido-banner" id="carteles">
        <div class="banner__imagen">
            <img loading="lazy" src="/img/banner-friends.png" alt="banner cuadro personalizado"
                class="banner__imagen-border block">
        </div>
        <div class="banner__info">
            <div class="banner__info__icono">
                <img loading="lazy" src="/img/icono-friends.svg" alt="ícono personalizado">
            </div>
            <div class="banner__info__copy">
                <h4 class="no-space b1">Mis compas devs</h4>
                <h2 class="no-space b2">Ya elegieron <br>
                    mejorar sus setups</h2>
            </div>
        </div>
    </div>

    <section class="contenedor formulario">
        <form id="contactForm" onsubmit="return sendMessage()">

            <!-- Selección de Productos y Cantidad -->
            <section class="section">
                <h3 class="titulo_fc">Productos</h3>

                <div class="form-flex">
                    <div class="campo_selector">

                        <select id="product" name="product" required class="selector">
                            <option value="" disabled selected>Selecciona un producto</option>
                            <option value="" disabled>// Cuadros //</option>
                            <option value="Cuadro Hello World - Drácula theme">Cuadro Hello World - Drácula theme
                            </option>
                            <option value="Cuadro Hello World - Gruvbox theme">Cuadro Hello World - Gruvbox theme
                            </option>
                            <option value="Cuadro Hello World - Monokai Pro theme">Cuadro Hello World - Monokai Pro
                                theme</option>
                            <option value="Cuadro Hello World - edición especial theme">Cuadro Hello World - Edición
                                especial theme</option>
                            <option value="cuadro Hello World - Personalizado">Cuadro Hello World - Personalizado
                            </option>
                            <option value="" disabled>// Desk Pads //</option>
                            <option value="Desk pad Hello World - Drácula theme">Desk pad Hello World - Drácula theme
                            </option>
                            <option value="Desk pad Hello World - Gruvbox theme">Desk pad Hello World - Gruvbox theme
                            </option>
                            <option value="Desk pad Hello World - Monokai Pro theme">Desk pad Hello World - Monokai Pro
                                theme</option>
                            <option value="Desk pad Hello World - Custom theme">Desk pad Hello World - Personalizado
                            </option>
                            <option value="" disabled>// Remeras //</option>
                            <option value="Remera HTML">Remera HTML</option>
                            <option value="Remera CSS">Remera CSS</option>
                            <option value="Remera JavaScript">Remera JavaScript</option>
                            <option value="Remera Phyton">Remera Phyton</option>
                            <option value="Remera PHP">Remera PHP</option>
                            <option value="Remera Angular">Remera Angular</option>
                            <option value="Remera React">Remera React</option>
                            <option value="Remera Vue">Remera Vue</option>
                            <option value="Remera This is fine!">Remera This is fine!</option>
                            <option value="Remera Anti Coding Coding Club">Remera Anti Coding Coding Club</option>
                            <option value="Remera Baby dont hurt me">Remera Baby dont hurt me</option>
                            <option value="Remera Github (mona - the octocat)">Remera Github (mona - the octocat)
                            </option>
                            <option value="" disabled>// Otros //</option>
                            <option value="Stickers de programación">Stickers de programación</option>
                            <option value="Cartel neon RGB Github" disabled>Cartel neon RGB Github</option>

                        </select>
                    </div>

                    <div class="campo_cantidad">
                        <input type="number" id="amount" name="amount" min="1" max="3" required class="cantidad_fc"
                            placeholder="Cantidad">
                    </div>
                </div>
                <!-- después de: <input type="number" id="amount" ...> -->
                <div id="unitsContainer" class="units-container"></div>

                <div class="form-grid">

                    <!-- Campo dinámico para seleccionar el corte de la remera -->
                    <div id="corteRemera" class="campo_form_grid" style="display: none;">
                        <select id="type" name="type" class="selector">
                            <option value="" disabled selected>Selecciona el estilo</option>
                            <option value="Corte femenino">Corte femenino</option>
                            <option value="Corte masculino">Corte masculino</option>
                        </select>
                    </div>


                    <!-- Campo dinámico para seleccionar el tamaño de la remera -->
                    <div id="tallaRemera" class="campo_form_grid" style="display: none;">
                        <select id="size" name="size" class="selector">
                            <option value="" disabled selected>Talle</option>
                            <option value="S">S</option>
                            <option value="M">M</option>
                            <option value="L">L</option>
                            <option value="XL">XL</option>
                            <option value="XXL">XXL</option>
                        </select>
                    </div>
                </div>


                <div class="campo_stickers" id="campoStickers">
                    <p>¿Te gustaría agregar un pack de stickers de programación por <span class="precio precioStickers"
                            data-producto="stickersPromo">$0</span> EN PROMOCIÓN con ésta
                        compra?"
                        <a href="/tienda/otros/stickers.html" target="_blank">Miralos aquí</a>
                    </p>
                </div>

                <div class="campo_checkbox_stickers" id="checkboxStickers">
                    <input type="checkbox" id="stickers" name="stickers">
                    <label for="stickers">Sí, incluir stickers en la compra</label>
                </div>


            </section>
            <!-- Información Personal -->
            <section class="section">
                <h3 class="titulo_fc">Información Personal</h3>

                <input type="text" id="fullName" name="fullName" required placeholder="Nombre completo">

                <input type="email" id="email" name="email" required placeholder="Email">

            </section>

            <!-- Dirección de Envío -->
            <section class="section">
                <h3 class="titulo_fc">Dirección de Envío</h3>

                <p>Marca la siguiente opción si prefieres que lo enviemos a una sucursal de Correo Argentino más
                    cercana.</p>

                <label>
                    <input type="checkbox" id="sucursal" name="sucursal">Sí, enviar a sucursal para retirar.
                </label>

                <div id="campos-adicionales">
                    <p>Completa los siguientes datos si prefieres envío a tu domicilio.</p>

                    <input type="text" id="address" name="address" placeholder="Calle y Número">

                    <input type="text" id="city" name="city" placeholder="Ciudad">

                    <div class="form-grid">
                        <div class="campo_selector">
                            <select name="province" id="province" class="provincia">
                                <option value="" disabled selected>Seleccione una provincia</option>
                                <option value="Buenos Aires">Buenos Aires</option>
                                <option value="Catamarca">Catamarca</option>
                                <option value="Chaco">Chaco</option>
                                <option value="Chubut">Chubut</option>
                                <option value="Córdoba">Córdoba</option>
                                <option value="Corrientes">Corrientes</option>
                                <option value="Entre Ríos">Entre Ríos</option>
                                <option value="Formosa">Formosa</option>
                                <option value="Jujuy">Jujuy</option>
                                <option value="La Pampa">La Pampa</option>
                                <option value="La Rioja">La Rioja</option>
                                <option value="Mendoza">Mendoza</option>
                                <option value="Misiones">Misiones</option>
                                <option value="Neuquén">Neuquén</option>
                                <option value="Río Negro">Río Negro</option>
                                <option value="Salta">Salta</option>
                                <option value="San Juan">San Juan</option>
                                <option value="San Luis">San Luis</option>
                                <option value="Santa Cruz">Santa Cruz</option>
                                <option value="Santa Fe">Santa Fe</option>
                                <option value="Santiago del Estero">Santiago del Estero</option>
                                <option value="Tierra del Fuego">Tierra del Fuego</option>
                                <option value="Tucumán">Tucumán</option>
                            </select>
                        </div>

                        <div class="campo_cantidad">
                            <input type="text" id="postalCode" name="postalCode" placeholder="Código postal">
                        </div>
                    </div>

                    <p>¿Vives en un departamento o un barrio cerrado/privado? Escribe aquí debajo qué número es tu
                        piso/departamento o lote.</p>
                    <textarea name="detalles" id="detalles" class="detalles"></textarea>
                </div>


            </section>

            <!-- Botón de Finalizar Compra -->
            <button type="submit" class="enviar_fc"><i class="fab fa-whatsapp"></i> Realizar pedido</button>
        </form>
    </section>

    <div id="whatsapp"></div>
    <footer></footer>


    <script>
        /* ---------- Configuración y agrupado de productos ---------- */
        const productSelect = document.getElementById('product');
        const amountInput = document.getElementById('amount');
        const unitsContainer = document.getElementById('unitsContainer');
    
        const optionGroups = {
            cuadro: [],
            deskpad: [],
            remera: [],
            otros: []
        };
    
        function buildOptionGroups() {
            optionGroups.cuadro = [];
            optionGroups.deskpad = [];
            optionGroups.remera = [];
            optionGroups.otros = [];
    
            Array.from(productSelect.options).forEach(opt => {
                if (!opt.value || opt.disabled) return; // saltar separadores y opciones deshabilitadas
                const text = opt.text.trim();
                const val = opt.value;
                const lower = text.toLowerCase();
    
                if (lower.includes('cuadro')) {
                    optionGroups.cuadro.push({ text, val });
                } else if (lower.includes('desk pad') || lower.includes('deskpad') || lower.includes('desk ')) {
                    optionGroups.deskpad.push({ text, val });
                } else if (lower.includes('remera')) {
                    optionGroups.remera.push({ text, val });
                } else {
                    optionGroups.otros.push({ text, val });
                }
            });
        }
    
        /* ---------- Render dinámico de selects por unidad ---------- */
        function renderUnitSelectors() {
            unitsContainer.innerHTML = '';
            const amount = Math.max(1, parseInt(amountInput.value || 1, 10));
            const selectedIndex = productSelect.selectedIndex;
            const selectedText = selectedIndex >= 0 ? productSelect.options[selectedIndex].text.toLowerCase() : '';
            let group = 'otros';
            if (selectedText.includes('remera')) group = 'remera';
            else if (selectedText.includes('cuadro')) group = 'cuadro';
            else if (selectedText.includes('desk pad') || selectedText.includes('deskpad') || selectedText.includes('desk ')) group = 'deskpad';
            else group = 'otros';
    
            // Si es categoría "otros" (producto único), no generamos selects por unidad
            if (group === 'otros') return;
    
            const designs = optionGroups[group];
    
            for (let i = 1; i <= amount; i++) {
                const unitDiv = document.createElement('div');
                unitDiv.className = 'unit-block';
    
                const title = document.createElement('h4');
                title.className = 'unit-title';
                title.textContent = `Unidad ${i}`;
                unitDiv.appendChild(title);
    
                // Select de diseño
                const selectDesign = document.createElement('select');
                selectDesign.name = `unit_design_${i}`;
                selectDesign.id = `unit_design_${i}`;
                selectDesign.className = 'selector unit-design';
                selectDesign.required = true;
    
                const placeholder = document.createElement('option');
                placeholder.value = '';
                placeholder.disabled = true;
                placeholder.selected = true;
                placeholder.textContent = 'Selecciona diseño';
                selectDesign.appendChild(placeholder);
    
                designs.forEach(d => {
                    const o = document.createElement('option');
                    o.value = d.val;
                    o.textContent = d.text;
                    selectDesign.appendChild(o);
                });
    
                unitDiv.appendChild(selectDesign);
    
                // Si es remera, agrega talle y corte por unidad
                if (group === 'remera') {
                    const selectSize = document.createElement('select');
                    selectSize.name = `unit_size_${i}`;
                    selectSize.id = `unit_size_${i}`;
                    selectSize.className = 'selector unit-size';
                    selectSize.required = true;
                    selectSize.innerHTML = `
                    <option value="" disabled selected>Talle</option>
                    <option value="S">S</option>
                    <option value="M">M</option>
                    <option value="L">L</option>
                    <option value="XL">XL</option>
                    <option value="XXL">XXL</option>
                    `;
                    unitDiv.appendChild(selectSize);
    
                    const selectCut = document.createElement('select');
                    selectCut.name = `unit_cut_${i}`;
                    selectCut.id = `unit_cut_${i}`;
                    selectCut.className = 'selector unit-cut';
                    selectCut.required = true;
                    selectCut.innerHTML = `
                    <option value="" disabled selected>Corte</option>
                    <option value="Corte femenino">Corte femenino</option>
                    <option value="Corte masculino">Corte masculino</option>
                    `;
                    unitDiv.appendChild(selectCut);
                }
    
                unitsContainer.appendChild(unitDiv);
            }
        }
    
        /* ---------- Función de envío corregida (incluye diseños por unidad) ---------- */
        function sendMessage() {
            // Datos básicos
            const productIndex = productSelect.selectedIndex;
            const productText = productIndex >= 0 ? productSelect.options[productIndex].text : '';
            const amount = Math.max(1, parseInt(amountInput.value || 1, 10));
    
            const fullName = document.getElementById('fullName').value || '';
            const email = document.getElementById('email').value || '';
            const stickersChecked = document.getElementById('stickers').checked;
            const sucursalChecked = document.getElementById('sucursal').checked;
            const address = document.getElementById('address').value || '';
            const city = document.getElementById('city').value || '';
            const province = document.getElementById('province').value || '';
            const postalCode = document.getElementById('postalCode').value || '';
            const detalles = document.getElementById('detalles').value || '';
    
            // Construir resumen por unidad: preferimos el texto visible del option seleccionado en cada unit select
            const unitLines = [];
            for (let i = 1; i <= amount; i++) {
                const designEl = document.getElementById(`unit_design_${i}`);
                if (designEl) {
                    // Tomar el texto mostrado de la opción seleccionada (no solo value)
                    const selIdx = designEl.selectedIndex;
                    const designText = selIdx >= 0 ? designEl.options[selIdx].text : designEl.value || '';
                    let line = `Unidad ${i}: ${designText}`;
    
                    const sizeEl = document.getElementById(`unit_size_${i}`);
                    const cutEl = document.getElementById(`unit_cut_${i}`);
                    if (sizeEl && sizeEl.value) line += ` - Talle: ${sizeEl.value}`;
                    if (cutEl && cutEl.value) line += ` - Corte: ${cutEl.value}`;
    
                    unitLines.push(line);
                } else {
                    // Si no existe selector por unidad (ej. categoria 'otros'), usamos el texto del product principal
                    unitLines.push(`Unidad ${i}: ${productText}`);
                }
            }
    
            const selectedProduct = document.getElementById("product").value;
            let stickersMessage = "";
    
            // Si el usuario compró stickers, NO se envía ningún mensaje de stickers
            if (selectedProduct !== "Stickers de programación") {
                const stickersChecked = document.getElementById("stickers").checked;
                stickersMessage = stickersChecked
                    ? "Sí, incluir pack de stickers."
                    : "No incluir stickers.";
            }
    
            // Armar mensaje completo (antes de encodear)
            let message = `Hola, quisiera comprar ${amount} unidad(es).%0A`; // usamos %0A únicamente para claridad aquí, pero lo mejor es usar \n y luego encodeURIComponent
            // Mejor arma con saltos reales y luego encodeURIComponent al final:
            message = `Hola, quisiera comprar ${amount} unidad(es)\n\n`;
            message += unitLines.join('\n') + '\n\n';
            message += `Mis datos:\n${fullName}\n${email}\n`;
    
            if (sucursalChecked) {
                message += `Enviar a sucursal de Correo Argentino.\n`;
            } else {
                message += `${address}\n${city}\n${province}\n${postalCode}\n${detalles}\n`;
            }
    
            message += `${stickersMessage}`;
    
            // Codificar el mensaje completo UNA VEZ y abrir WhatsApp
            const whatsappNumber = '5493515957014';
            const whatsappURL = `https://api.whatsapp.com/send?phone=${whatsappNumber}&text=${encodeURIComponent(message)}`;
            window.open(whatsappURL, '_blank');
    
            // Redirigir a gracias
            setTimeout(() => {
                window.location.href = 'gracias.html';
            }, 1500);
    
            return false;
        }
    
        /* ---------- Inicialización y listeners ---------- */
        document.addEventListener('DOMContentLoaded', () => {
            buildOptionGroups();
            renderUnitSelectors();
    
            productSelect.addEventListener('change', () => {
                // Cuando cambia el producto, reconstruir grupos (por si cambiaste opciones) y re-render
                buildOptionGroups();
                renderUnitSelectors();
            });
    
            amountInput.addEventListener('input', () => {
                // Normalizar cantidad entre min y max si existen
                const min = parseInt(amountInput.min || 1, 10);
                const max = parseInt(amountInput.max || 99, 10);
                let v = parseInt(amountInput.value || min, 10);
                if (isNaN(v)) v = min;
                if (v < min) v = min;
                if (v > max) v = max;
                amountInput.value = v;
                renderUnitSelectors();
            });
    
            // Reemplaza el onsubmit del form para usar nuestra función
            const form = document.getElementById('contactForm');
            if (form) form.onsubmit = sendMessage;
        });
    
    
        document.addEventListener('DOMContentLoaded', () => {
            const productSelect = document.getElementById('product');
            const campoStickers = document.getElementById('campoStickers');
            const checkboxStickersContainer = document.getElementById('checkboxStickers');
            const checkbox = document.getElementById('stickers');
            const labelStickers = checkboxStickersContainer ? checkboxStickersContainer.querySelector('label[for="stickers"]') : null;
    
            if (!productSelect) return;
    
            const actualizarVisibilidad = () => {
                const esProductoStickers = productSelect.value === "Stickers de programación";
    
                // Ocultar o mostrar la oferta textual
                if (campoStickers) {
                    campoStickers.style.display = esProductoStickers ? 'none' : 'block';
                }
    
                if (esProductoStickers) {
                    // Cuando es producto de stickers: checkbox marcado, deshabilitado y con texto informativo
                    if (checkbox) {
                        checkbox.checked = true;
                        checkbox.disabled = true;
                    }
                    if (labelStickers) {
                        labelStickers.textContent = 'La promoción de los stickers de programación solo está disponible comprando otro producto de la tienda.';
                    }
                } else {
                    // Cuando NO es producto de stickers: checkbox habilitado y con texto original
                    if (checkbox) {
                        checkbox.disabled = false;
                    }
                    if (labelStickers) {
                        labelStickers.textContent = 'Sí, incluir stickers en la compra';
                    }
                }
            };
    
            // Estado inicial
            actualizarVisibilidad();
    
            // Cuando cambia el producto
            productSelect.addEventListener('change', () => {
                actualizarVisibilidad();
    
                // Por si usas estas funciones en tu código
                if (typeof buildOptionGroups === 'function') buildOptionGroups();
                if (typeof renderUnitSelectors === 'function') renderUnitSelectors();
            });
        });
    </script>

    <script src="/templates/headeryfooter.js"></script>

    <script src="/js/scripts.js"></script>
    <script src="/js/modernizr.js"></script>

</body>

</html>